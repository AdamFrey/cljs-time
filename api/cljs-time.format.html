<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><title>cljs-time.format documentation</title></head><body><header><section class="title"><h1><a href="index.html">cljs-time Api Documentation</a></h1></section><small>Version: 0.5.0-alpha1</small></header><section class="container"><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cljs-time</span></div></div></li><li class="depth-2 branch"><a href="cljs-time.coerce.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>coerce</span></div></a></li><li class="depth-2 branch"><a href="cljs-time.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="cljs-time.extend.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>extend</span></div></a></li><li class="depth-2 branch current"><a href="cljs-time.format.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>format</span></div></a></li><li class="depth-2 branch"><a href="cljs-time.instant.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>instant</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>internal</span></div></div></li><li class="depth-3 branch"><a href="cljs-time.internal.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-3 branch"><a href="cljs-time.internal.parse.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>parse</span></div></a></li><li class="depth-3"><a href="cljs-time.internal.unparse.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>unparse</span></div></a></li><li class="depth-2 branch"><a href="cljs-time.local.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>local</span></div></a></li><li class="depth-2 branch"><a href="cljs-time.macros.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>macros</span></div></a></li><li class="depth-2 branch"><a href="cljs-time.periodic.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>periodic</span></div></a></li><li class="depth-2"><a href="cljs-time.predicates.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>predicates</span></div></a></li></ul></div><section class="namespace-docs" id="content"><h2 class="anchor" id="top">cljs-time.format</h2><div class="doc"><div class="markdown"><h3>Utilities for parsing and unparsing DateTimes as Strings.</h3><p>Parsing and printing are controlled by formatters. You can either use one of the built in ISO 8601 and a single RFC 822 formatters or define your own, e.g.:</p><p>(def built-in-formatter (formatters :basic-date-time))  (def custom-formatter (formatter &ldquo;yyyyMMdd&rdquo;))</p><p>To see a list of available built-in formatters and an example of a date-time printed in their format:</p><p>(show-formatters)</p><p>Once you have a formatter, parsing and printing are strait-forward:</p><p>=&gt; (parse custom-formatter &ldquo;20100311&rdquo;)  #&lt;DateTime 2010-03-11T00:00:00.000Z&gt;</p><p>=&gt; (unparse custom-formatter (date-time 2010 10 3))  &ldquo;20101003&rdquo;</p><p>By default the parse function always returns a DateTime instance with a UTC time zone, and the unparse function always represents a given DateTime instance in UTC.</p></div></div><div class="public anchor" id="var--.3EFormatter"><h3><a href="#var--.3EFormatter">-&gt;Formatter</a></h3><div class="usage"><code>(-&gt;Formatter format-str overrides default-year timezone)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-days"><h3><a href="#var-days">days</a></h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-Formatter"><h3><a href="#var-Formatter">Formatter</a></h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-formatter"><h3><a href="#var-formatter">formatter</a></h3><div class="usage"><code>(formatter fmts)</code><code>(formatter fmts dtz)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-formatter-local"><h3><a href="#var-formatter-local">formatter-local</a></h3><div class="usage"><code>(formatter-local fmts)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-formatters"><h3><a href="#var-formatters">formatters</a></h3><div class="usage"></div><div class="doc"><div class="markdown"><p><strong>Note: not all formatters have been implemented yet.</strong></p><p>Map of ISO 8601 and a single RFC 822 formatters that can be used for parsing and, in most cases, printing.</p><p>Note: due to current implementation limitations, timezone information cannot be kept. Although the correct offset will be applied to UTC time if supplied.</p><p>The pattern syntax is mostly compatible with java.text.SimpleDateFormat - time zone names cannot be parsed and a few more symbols are supported. All ASCII letters are reserved as pattern letters, which are defined as follows:</p><p>Symbol Meaning Presentation Examples  &mdash;&mdash; &mdash;&mdash;- &mdash;&mdash;&mdash;&mdash; &mdash;&mdash;-  G era text AD  C century of era (&gt;=0) number 20  Y year of era (&gt;=0) year 1996</p><p>x weekyear year 1996  w week of weekyear number 27  e day of week number 2  E day of week text Tuesday; Tue</p><p>y year year 1996  D day of year number 189  M month of year month July; Jul; 07  d day of month number 10</p><p>a halfday of day text PM  K hour of halfday (0~11) number 0  h clockhour of halfday (1~12) number 12</p><p>H hour of day (0~23) number 0  k clockhour of day (1~24) number 24  m minute of hour number 30  s second of minute number 55  S fraction of second number 978  a meridiem text am; pm  A meridiem text AM; PM</p><p>z time zone text Pacific Standard Time; PST  Z time zone offset/id zone -0800; -08:00; America/Los_Angeles</p><p>&lsquo; escape for text delimiter  &rsquo;&lsquo; single quote literal &rsquo;</p><p>cljs-time additions:  &mdash;&mdash; &mdash;&mdash;- &mdash;&mdash;&mdash;&mdash; &mdash;&mdash;-  Symbol Meaning Presentation Examples  &mdash;&mdash; &mdash;&mdash;- &mdash;&mdash;&mdash;&mdash; &mdash;&mdash;-  o ordinal suffix text st nd rd th (E.G., 1st, 2nd, 3rd, 4th)</p><p>The count of pattern letters determine the format.</p><p><strong>Text:</strong> If the number of pattern letters is 4 or more, the full form is used; otherwise a short or abbreviated form is used if available.</p><p><strong>Number:</strong> The minimum number of digits. Shorter numbers are zero-padded to this amount.</p><p><strong>Year:</strong> Numeric presentation for year and weekyear fields are handled specially. For example, if the count of &lsquo;y&rsquo; is 2, the year will be displayed as the zero-based year of the century, which is two digits.</p><p><strong>Month:</strong> 3 or over, use text, otherwise use number.</p><p><strong>Zone:</strong> &lsquo;Z&rsquo; outputs offset without a colon, &lsquo;ZZ&rsquo; outputs the offset with a colon, &lsquo;ZZZ&rsquo; or more outputs the zone id.</p><p><strong>Zone names:</strong> Time zone names (&lsquo;z&rsquo;) cannot be parsed.</p><p>Any characters in the pattern that are not in the ranges of [&lsquo;a&rsquo;..&lsquo;z&rsquo;] and [&lsquo;A&rsquo;..&lsquo;Z&rsquo;] will be treated as quoted text. For instance, characters like &lsquo;:&rsquo;, &lsquo;.&rsquo;, &lsquo; &rsquo;, &lsquo;#&rsquo; and &lsquo;?&rsquo; will appear in the resulting time text even they are not embraced within single quotes.</p></div></div></div><div class="public anchor" id="var-map-.3EFormatter"><h3><a href="#var-map-.3EFormatter">map-&gt;Formatter</a></h3><div class="usage"><code>(map-&gt;Formatter G__11676)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-Mappable"><h3><a href="#var-Mappable">Mappable</a></h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-instant-.3Emap"><h3><a href="#var-instant-.3Emap">instant-&gt;map</a></h3><div class="usage"><code>(instant-&gt;map instant)</code></div><div class="doc"><div class="markdown"><p>Returns a map representation of the given instant. It will contain the following keys: :years, :months, :days, :hours, :minutes and :seconds.</p></div></div></div></div></div></div><div class="public anchor" id="var-months"><h3><a href="#var-months">months</a></h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-not-implemented"><h3><a href="#var-not-implemented">not-implemented</a></h3><div class="usage"><code>(not-implemented sym)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-parse"><h3><a href="#var-parse">parse</a></h3><div class="usage"><code>(parse fmt s)</code><code>(parse s)</code></div><div class="doc"><div class="markdown"><p>Returns a DateTime instance in the UTC time zone obtained by parsing the given string according to the given formatter.</p></div></div></div><div class="public anchor" id="var-parse-local"><h3><a href="#var-parse-local">parse-local</a></h3><div class="usage"><code>(parse-local fmt s)</code><code>(parse-local s)</code></div><div class="doc"><div class="markdown"><p>Returns a local DateTime instance obtained by parsing the given string according to the given formatter.</p></div></div></div><div class="public anchor" id="var-parse-local-date"><h3><a href="#var-parse-local-date">parse-local-date</a></h3><div class="usage"><code>(parse-local-date fmt s)</code><code>(parse-local-date s)</code></div><div class="doc"><div class="markdown"><p>Returns a local Date instance obtained by parsing the given string according to the given formatter.</p></div></div></div><div class="public anchor" id="var-parsers"><h3><a href="#var-parsers">parsers</a></h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-printers"><h3><a href="#var-printers">printers</a></h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-show-formatters"><h3><a href="#var-show-formatters">show-formatters</a></h3><div class="usage"><code>(show-formatters)</code><code>(show-formatters dt)</code></div><div class="doc"><div class="markdown"><p>Shows how a given DateTime, or by default the current time, would be formatted with each of the available printing formatters.</p></div></div></div><div class="public anchor" id="var-skip-timezone-formatter"><h3><a href="#var-skip-timezone-formatter">skip-timezone-formatter</a></h3><div class="usage"><code>(skip-timezone-formatter)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-to-map"><h3><a href="#var-to-map">to-map</a></h3><div class="usage"><code>(to-map years months days hours minutes seconds millis)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-unparse"><h3><a href="#var-unparse">unparse</a></h3><div class="usage"><code>(unparse {:keys [format-str formatters]} dt)</code></div><div class="doc"><div class="markdown"><p>Returns a string representing the given DateTime instance in UTC and in the form determined by the given formatter.</p></div></div></div><div class="public anchor" id="var-unparse-duration"><h3><a href="#var-unparse-duration">unparse-duration</a></h3><div class="usage"><code>(unparse-duration duration)</code></div><div class="doc"><div class="markdown"><p>Accepts a Period or Interval and outputs an absolute duration time in form of &ldquo;1 day&rdquo;, &ldquo;2 hours&rdquo;, &ldquo;20 minutes&rdquo;, &ldquo;2 days 1 hour 15 minutes&rdquo; etc.</p></div></div></div><div class="public anchor" id="var-unparse-local"><h3><a href="#var-unparse-local">unparse-local</a></h3><div class="usage"><code>(unparse-local {:keys [format-str formatters], :as fmt} dt)</code></div><div class="doc"><div class="markdown"><p>Returns a string representing the given local DateTime instance in the form determined by the given formatter.</p></div></div></div><div class="public anchor" id="var-unparse-local-date"><h3><a href="#var-unparse-local-date">unparse-local-date</a></h3><div class="usage"><code>(unparse-local-date {:keys [format-str formatters], :as fmt} dt)</code></div><div class="doc"><div class="markdown"><p>Returns a string representing the given local Date instance in the form determined by the given formatter.</p></div></div></div><div class="public anchor" id="var-with-default-year"><h3><a href="#var-with-default-year">with-default-year</a></h3><div class="usage"><code>(with-default-year f default-year)</code></div><div class="doc"><div class="markdown"><p>Return a copy of a formatter that uses the given default year.</p></div></div></div></section></section></body></html>